// Performance-optimized CSS patterns
// Use these patterns throughout the framework for better performance

// 1. Hardware acceleration for animations
@mixin hardware-accelerate {
	transform: translateZ(0);
	backface-visibility: hidden;
	perspective: 1000px;
}

// 2. Efficient transitions
@mixin efficient-transition(
	$properties: all,
	$duration: 0.2s,
	$easing: ease-out
) {
	transition: #{$properties} #{$duration} #{$easing};
	will-change: #{$properties};
}

// 3. Optimized shadows (use box-shadow instead of filter)
@mixin optimized-shadow($level: 1) {
	@if $level == 1 {
		box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
	} @else if $level == 2 {
		box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
	} @else if $level == 3 {
		box-shadow: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
	}
}

// 4. Container queries for modern responsive design
@mixin container-query($min-width) {
	@container (min-width: #{$min-width}) {
		@content;
	}
}

// 5. Efficient grid layouts
@mixin auto-grid($min-column-width: 250px, $gap: 1rem) {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(#{$min-column-width}, 1fr));
	gap: #{$gap};
}

// 6. Optimized focus styles
@mixin focus-visible {
	&:focus-visible {
		outline: 2px solid var(--byte-color-primary);
		outline-offset: 2px;
	}
}

// 7. Reduced motion support
@mixin respect-motion-preference {
	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

// 8. Critical CSS patterns
.critical-above-fold {
	// Styles for above-the-fold content
	contain: layout style paint;
}

.lazy-load {
	// Styles for lazy-loaded content
	content-visibility: auto;
	contain-intrinsic-size: 200px;
}

// 9. Performance-optimized animations
@keyframes fade-in-up {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes scale-in {
	from {
		opacity: 0;
		transform: scale(0.95);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

// 10. Modern CSS features
.modern-layout {
	// Use modern CSS features where supported
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(min(250px, 100%), 1fr));
	gap: clamp(1rem, 2vw, 2rem);

	// Fallback for older browsers
	@supports not (gap: 1rem) {
		display: flex;
		flex-wrap: wrap;
		margin: -0.5rem;

		> * {
			margin: 0.5rem;
			flex: 1 1 250px;
		}
	}
}
